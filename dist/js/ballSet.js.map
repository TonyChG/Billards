{"version":3,"sources":["../../js/ballSet.js"],"names":["BallSet","width","height","render","list","i","len","push","Ball","px","cfg","RADIUS","py","vx","vy","mass","MASS","rad","color","poolGame","length","draw","check","selected","mouseOn","b1","move","wallCollision","j","b2","resolveCollision","applyFriction"],"mappings":"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","file":"ballSet.js","sourcesContent":["/**\n * Created by antoine on 28/01/17.\n */\n\nclass BallSet {\n\n    constructor(width, height, render) {\n\n        this.width  = width;\n        this.height = height;\n        this.render = render;\n        this.list   = [];\n\n    }\n\n    get length () { return this.list.length }\n\n    poolGame () {\n        for (let i = 0, len = 10; i < len; i++) {\n            this.list.push(new Ball({\n                px: (this.width/2-5*cfg.RADIUS + cfg.RADIUS + (cfg.RADIUS * i * 2)),\n                py: (cfg.RADIUS),\n                vx: 0, vy: 0,\n                mass: cfg.MASS, rad: cfg.RADIUS, color: \"red\"\n            }));\n        }\n        this.list.push(new Ball({\n            px: (this.width/2-5*cfg.RADIUS + cfg.RADIUS + (cfg.RADIUS* 7)),\n            py: (this.height - cfg.RADIUS * 2),\n            vx: 0, vy: 0,\n            mass: cfg.MASS, rad: cfg.RADIUS, color: \"green\"\n        }));\n    }\n\n    init () {\n        this.poolGame();\n        return this;\n    }\n\n    drawBalls () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            this.list[i].draw(this.render);\n        }\n    }\n\n    isAnySelectBall () {\n        let check = false;\n\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].selected) check = true;\n        }\n        return check;\n    }\n\n    mouseNotOnAnyBall () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].mouseOn) return false;\n        }\n        return true;\n    }\n\n    unSelectBalls () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            this.list[i].selected = false;\n        }\n    }\n\n    computeCollision () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            let b1 = this.list[i];\n            b1.move();\n            b1.wallCollision(this.width, this.height);\n            for (let j = i + 1, len = this.length; j < len; j++) {\n                let b2 = this.list[j];\n                if (b1 != b2) b1.resolveCollision(b2);\n            }\n            b1.applyFriction();\n        }\n    }\n\n    updateMouseOn () {\n        let check = false;\n\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].mouseOn) {\n                this.list[i].selected = true;\n                check = true;\n            }\n        }\n        return check;\n    }\n}"]}