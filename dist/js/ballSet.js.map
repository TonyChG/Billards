{"version":3,"sources":["../../js/ballSet.js"],"names":["BallSet","width","height","render","list","x","y","diam","cfg","RADIUS","colors","push","Ball","px","py","vx","vy","mass","MASS","rad","color","n","j","i","poolGame","len","length","draw","selected","mouseOn","check","ball","holes","ballisInHole","console","log","b1","wallCollision","move","b2","resolveCollision","applyFriction"],"mappings":"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","file":"ballSet.js","sourcesContent":["/**\n * Created by antoine on 28/01/17.\n */\n\nclass BallSet {\n\n    constructor(width, height, render) {\n\n        this.width  = width;\n        this.height = height;\n        this.render = render;\n        this.list   = [];\n\n    }\n\n    get length () { return this.list.length }\n\n    poolGame (x, y) {\n        let diam = cfg.RADIUS*2;\n        let colors = [\"#FF3F23\", \"#FDE42A\"];\n\n        this.list.push(new Ball({\n            px: this.width/5, py: this.height/2,\n            vx: 0, vy: 0,\n            mass: cfg.MASS, rad: cfg.RADIUS, color: \"white\"\n        }));\n        let n = 0;\n        let color;\n        for (let j = 0; j < 5; j++) {\n            for (let i = 0; i < j+1; i++) {\n                color = j == 2 && i == 1 ? \"black\" : colors[n%2];\n                this.list.push(new Ball({\n                    px: x+(j*(diam-3)), py: y+(diam*i-cfg.RADIUS*j),\n                    vx: 0, vy: 0,\n                    mass: cfg.MASS, rad: cfg.RADIUS, color: color\n                }));\n                n++;\n            }\n        }\n    }\n\n    debug () {\n        this.list.push(new Ball({\n            px: this.width/3, py: this.height/2,\n            vx: 10, vy: 0,\n            mass: cfg.MASS, rad: cfg.RADIUS, color: \"white\"\n        }));\n        this.list.push(new Ball({\n            px: this.width-this.width/3, py: this.height/2+10,\n            vx: -10, vy: 0,\n            mass: cfg.MASS, rad: cfg.RADIUS, color: \"white\"\n        }));\n    }\n\n    init () {\n        this.poolGame(this.width-this.width/4, this.height/2);\n        // this.debug();\n        return this;\n    }\n\n    drawBalls () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            this.list[i].draw(this.render);\n        }\n    }\n\n    getSelectedBall () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].selected) return this.list[i];\n        }\n        return false;\n    }\n\n    mouseNotOnAnyBall () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].mouseOn) return false;\n        }\n        return true;\n    }\n\n    isOnBall (x, y) {\n        let check = false;\n        for (let n = 0, len = this.length; n < len; n++) {\n            let ball = this.list[n];\n            if (x > ball.x - ball.rad && x < ball.x + ball.rad &&\n                y > ball.y - ball.rad && y < ball.y + ball.rad) {\n                check = true;\n            }\n        }\n        return check;\n    }\n\n    isInScreen (x, y) {\n        return x > cfg.RADIUS && x < this.width-cfg.RADIUS\n            && y > cfg.RADIUS && y < this.height-cfg.RADIUS;\n    }\n\n    unSelectBalls () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            this.list[i].selected = false;\n        }\n    }\n\n    anyBallInHole (holes) {\n        for (let n = 0, len = this.length; n < len; n++) {\n            if (holes.ballisInHole(this.list[n])) {\n                console.log(\"in Hole!\");\n            }\n        }\n    }\n\n    computeCollision (holes) {\n        for (let i = 0, len = this.length; i < len; i++) {\n            let b1 = this.list[i];\n            b1.wallCollision(this.width, this.height);\n            b1.move();\n            for (let j = i + 1, len = this.length; j < len; j++) {\n                let b2 = this.list[j];\n                if (b1 != b2) b1.resolveCollision(b2);\n            }\n            b1.applyFriction();\n        }\n    }\n\n    updateMouseOn () {\n        let check = false;\n\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].mouseOn) {\n                this.list[i].selected = true;\n                check = true;\n            }\n        }\n        return check;\n    }\n}"]}