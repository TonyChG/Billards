{"version":3,"sources":["../../js/ballSet.js"],"names":["BallSet","width","height","render","list","i","len","push","Ball","px","cfg","RADIUS","py","vx","vy","mass","MASS","rad","color","COLORS","purple","poolGame","length","draw","selected","mouseOn","x","y","check","n","ball","b1","move","wallCollision","j","b2","resolveCollision","applyFriction"],"mappings":"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","file":"ballSet.js","sourcesContent":["/**\n * Created by antoine on 28/01/17.\n */\n\nclass BallSet {\n\n    constructor(width, height, render) {\n\n        this.width  = width;\n        this.height = height;\n        this.render = render;\n        this.list   = [];\n\n    }\n\n    get length () { return this.list.length }\n\n    poolGame () {\n        for (let i = 0, len = 10; i < len; i++) {\n            this.list.push(new Ball({\n                px: (this.width/2-5*cfg.RADIUS + cfg.RADIUS + (cfg.RADIUS * i * 2)),\n                py: (cfg.RADIUS*3),\n                vx: 0, vy: 0,\n                mass: cfg.MASS, rad: cfg.RADIUS, color: COLORS.purple\n            }));\n        }\n        this.list.push(new Ball({\n            px: (this.width/2-5*cfg.RADIUS + cfg.RADIUS + (cfg.RADIUS* 7)),\n            py: (this.height - cfg.RADIUS * 3),\n            vx: 0, vy: 0,\n            mass: cfg.MASS, rad: cfg.RADIUS, color: \"white\"\n        }));\n    }\n\n    init () {\n        this.poolGame();\n        return this;\n    }\n\n    drawBalls () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            this.list[i].draw(this.render);\n        }\n    }\n\n    getSelectedBall () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].selected) return this.list[i];\n        }\n        return false;\n    }\n\n    mouseNotOnAnyBall () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].mouseOn) return false;\n        }\n        return true;\n    }\n\n    isOnBall (x, y) {\n        let check = false;\n        for (let n = 0, len = this.length; n < len; n++) {\n            let ball = this.list[n];\n            if (x > ball.x - ball.rad && x < ball.x + ball.rad &&\n                y > ball.y - ball.rad && y < ball.y + ball.rad) {\n                check = true;\n            }\n        }\n        return check;\n    }\n\n    isInScreen (x, y) {\n        return x > cfg.RADIUS && x < this.width-cfg.RADIUS\n            && y > cfg.RADIUS && y < this.height-cfg.RADIUS;\n    }\n\n    unSelectBalls () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            this.list[i].selected = false;\n        }\n    }\n\n    computeCollision () {\n        for (let i = 0, len = this.length; i < len; i++) {\n            let b1 = this.list[i];\n            b1.move();\n            b1.wallCollision(this.width, this.height);\n            for (let j = i + 1, len = this.length; j < len; j++) {\n                let b2 = this.list[j];\n                if (b1 != b2) b1.resolveCollision(b2);\n            }\n            b1.applyFriction();\n        }\n    }\n\n    updateMouseOn () {\n        let check = false;\n\n        for (let i = 0, len = this.length; i < len; i++) {\n            if (this.list[i].mouseOn) {\n                this.list[i].selected = true;\n                check = true;\n            }\n        }\n        return check;\n    }\n}"]}